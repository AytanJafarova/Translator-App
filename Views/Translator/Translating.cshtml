@model TranslatorApp.Models.WordModel

<link rel="stylesheet" href="/css/translator.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha384-vk5WoKIaW/vJyUAd9n/wmopsmNhiy+L2Z+SBxGYnUkunIxVxAv/UtMOhba/xskxh" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>


 <div class="containerPage flex-wrap">
       <div class="containerBody container" style="width: 45rem">
        <div class="containerForm container">
            <form id="translationForm">
              <div class="containerFrom">
                <div class="form-group">
                    <select class="form-control" id="selectFrom"  asp-for="fromL">
                      <option value="emp">Dili seç</option>
                        <option value="Azərbaycan">Azərbaycan</option>
                        <option value="Türk">Türk</option>
                        <option value="Özbək">Özbək</option>
                        <option value="Qırğız">Qırğız</option>
                        <option value="Tatar">Tatar</option>
                        <option value="Türkmən">Türkmən</option>
                        <option value="Qazax">Qazax</option>
                        <option value="Uyğur">Uyğur</option>
                    </select>
                  </div>
                <div class="form-group">
                    <textarea asp-for="wordTranslate" class="form-control" style="resize: none;  height: 10rem;" placeholder="Sözü daxil edin..."></textarea>
                </div>
              </div>

              <div class="containerArrow container">
               <button type="button" class="btn btn-light" id="btnTranslate">Tərcümə et</button>
              </div>

               <div class="containerTo">
                <div class="form-group">
                    <select class="form-control" id="selectTo" asp-for="toL">
                        <option value="emp">Dili seç</option>
                        <option value="Azərbaycan">Azərbaycan</option>
                        <option value="Türk">Türk</option>
                        <option value="Özbək">Özbək</option>
                        <option value="Qırğız">Qırğız</option>
                        <option value="Tatar">Tatar</option>
                        <option value="Türkmən">Türkmən</option>
                        <option value="Qazax">Qazax</option>
                        <option value="Uyğur">Uyğur</option>
                    </select>
                  </div>
                <div class="form-group">
                      <textarea id="translateResult" class="form-control" style="resize: none;  height: 10rem;" disabled></textarea>
                </div>
               </div>
              </form>
          </div>
       </div>
       <div class="containerHistory container" style="width: 45rem">
        <h5 style="color: white;">Tarixçə</h5>
          <form class="container">
            <div class="form-group">
                <textarea class="form-control" style="resize: none; height: 15rem;" id="historyT" disabled></textarea>
            </div>
            <div class="d-flex justify-content-end">
                <img src="~/css/img/pngtree-online-translator-chat-language-foreign-png-image_6031055.png" style="height:15rem; width:16rem" />
            </div>
          </form>
      </div>
    </div>
    <script src="~/js/crudAdmin.js"></script>
    @section Scripts {
        <script>
            var btnTranslate = document.getElementById('btnTranslate');
           
            function getResult() {
        var selectFrom = $("#selectFrom").val();  
        var selectTo = $("#selectTo").val();      
        var wordTranslate = $("#wordTranslate").val();  
        var historyTranslation = $("#historyT");  
        var resultBox = $('#translateResult')
        var url = "@Url.Action("TranslateWord")" +
                    "?fromL=" + encodeURIComponent(selectFrom) +
                    "&toL=" + encodeURIComponent(selectTo) +
                    "&wordTranslate=" + encodeURIComponent(wordTranslate);

        $.ajax({
            type: "GET",
            url: url,
            dataType: "json",
            success: function(result) {
                resultBox.val(result.value.wordResult);
                if (result.value.translated) {
                    historyTranslation.val(historyTranslation.val() + `(${selectFrom}) ${wordTranslate}  -  (${selectTo}) ${result.value.wordResult}\n`);
                }
            },
            error: function(req, status, error) {
                console.log(status);
            }
        });
    }

        btnTranslate.onclick = getResult;
    </script>
    }